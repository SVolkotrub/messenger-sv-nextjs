(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(3678)}])},7005:function(a,b){"use strict";b.Z={src:"/_next/static/media/avatar.2102f507.png",height:858,width:938,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAIAAAC6O5sJAAAAlklEQVR42iWOTQrCQAyF53auxGO4cO/KhRfQE7jrSsF7CKJgoSDo0spMKxRFms5Pkj4YCEm+LxCeERFVZWYRzgs6pMFIKfkQXNvWde29B0IaHAGNtcvFfDKdOeeAkEaY+xA/1bUr1q/dqrmXFCIkXklPA/06PRV63tP/C8yv0OOllOP2fdjYWyVASJNTDSSPp6KIJKcaAf7Tmk0xyk0rAAAAAElFTkSuQmCC"}},6467:function(a,b,c){"use strict";c.d(b,{Z:function(){return K}});var d=c(7568),e=c(1799),f=c(603),g=c(7297),h=c(4051),i=c.n(h),j=c(5893);c(7294);var k=c(9521),l=c(65);c(3999);var m=c(3349),n=c(6677),o=c(6170),p=c(5321),q=c(5675),r=c.n(q),s=c(7005),t=c(4937),u=c(1163);function v(){var a=(0,g.Z)(["\ndisplay: flex;\nalign-items: center;\ncursor: pointer;\npadding: 15px;  \nword-break: break-word;\noverflow-y: auto;\nscrollbar-width: none;\n\n:hover{\n    background-color: #e9eaeb;\n}\n"]);return v=function(){return a},a}function w(){var a=(0,g.Z)(["\ncursor: pointer;\nheight: 40px;\nwidth: 40px;\nborder-radius: 50%;\nmargin: 5px;\n\n"]);return w=function(){return a},a}function x(){var a=(0,g.Z)(["\nmargin-left: 15px;\n"]);return x=function(){return a},a}var y=function(a){var b,c,d=a.id,e=a.users,g=(0,u.useRouter)(),h=(0,f.Z)((0,m.F_)(o.I),1)[0],i=(0,p.IO)((0,p.hJ)(o.db,"users"),(0,p.ar)("email","==",(0,t.Z)(e,h))),k=(0,f.Z)((0,n.Kx)(i),1)[0],l=null==k?void 0:null===(b=k.docs)|| void 0===b?void 0:null===(c=b[0])|| void 0===c?void 0:c.data(),q=(0,t.Z)(e,h),v=function(){g.push("/chat/".concat(d))};return(0,j.jsxs)(z,{onClick:function(){return v()},children:[(null==l?void 0:l.photoURL)?(0,j.jsx)(A,{src:null==l?void 0:l.photoURL,alt:""}):(0,j.jsx)(r(),{src:s.Z,width:50,height:50,alt:"",style:C}),(0,j.jsx)(B,{children:q})]})},z=k.ZP.div(v()),A=k.ZP.img(w()),B=k.ZP.p(x()),C={cursor:"pointer",borderRadius:"50%",margin:"5px 15px"};function D(){var a=(0,g.Z)(["\nflex:0.45;\nborder-right: 1px solid whitesmoke;\nheight: 100vh;\nmin-width: 200px;\nmax-width: 350px;\noverflow-y: scroll;\n\n::-webkit-scrollbar {\n    display: none;\n}\n-ms-overflow-style: none;\nscrollbar-width: none;\n\n"]);return D=function(){return a},a}function E(){var a=(0,g.Z)(["\ndisplay: flex;\nflex-wrap: wrap;\npadding: 0px 20px;\nflex-direction: column;\nbackground-color: whitesmoke;\nz-index: 1;\n"]);return E=function(){return a},a}function F(){var a=(0,g.Z)(["\ndisplay: flex;\nmargin-top: 0;\nposition: sticky;\ntop: 0;\nbackground-color: whitesmoke;\nz-index: 1;\nalign-items: center;\npadding-top:5px;\nheight: 80px;\n\n"]);return F=function(){return a},a}function G(){var a=(0,g.Z)(["\ncursor: pointer;\nheight: 40px;\nwidth: 40px;\nborder-radius: 50%;\n\n:hover{\n    opacity: 0.8;\n}\n"]);return G=function(){return a},a}function H(){var a=(0,g.Z)(["\ntext-align: left;\nmargin-left: 15px;\nword-break: break-word;\n"]);return H=function(){return a},a}function I(){var a=(0,g.Z)(["\nmargin-left:30px;\nmargin-top: 15px;\ncolor: blue;\nfont-size: 24px;\n"]);return I=function(){return a},a}function J(){var a=(0,g.Z)(["\nwidth: 100%;\nmargin-top: 10px;\nborder: 1px solid whitesmoke;\nborder-radius: 10px;\nfont-size:16px;\npadding: 8px;\npadding-left: 10px;\nbackground-color: white;\nmargin-bottom: 15px;\n\n&&& {    \n    color: black;\n    font-weight: 500;\n    text-align: left;\n    \n}\n\n"]);return J=function(){return a},a}function K(){var a,b=(0,f.Z)((0,m.F_)(o.I),1)[0],g=(0,p.hJ)(o.db,"chats"),h=(0,p.IO)(g,(0,p.ar)("users","array-contains",null==b?void 0:b.email)),k=(0,f.Z)((0,n.Kx)(h),1),q=k[0],r=null==q?void 0:q.docs.map(function(a){return(0,e.Z)({id:a.id},a.data())}),s=function(a){return null==r?void 0:r.find(function(c){return c.users.includes(b.email)&&c.users.includes(a)})},t=(a=(0,d.Z)(i().mark(function a(){var d,e;return i().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(d=prompt("Please enter an email address for the user you wish to chat with")){a.next=3;break}return a.abrupt("return",null);case 3:if(!((e=c(3999)).validate(d)&&d!==(null==b?void 0:b.email)&&!s(d))){a.next=7;break}return a.next=7,(0,p.ET)((0,p.hJ)(o.db,"chats"),{users:[b.email,d]});case 7:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)}),v=(0,u.useRouter)(),w=function(){(0,l.w7)(o.I),v.push("/")};return(0,j.jsxs)(L,{children:[(0,j.jsxs)(M,{children:[(0,j.jsxs)(N,{children:[(0,j.jsx)(O,{src:b.photoURL,onClick:w}),(0,j.jsx)(P,{children:b.displayName})]}),(0,j.jsx)(R,{onClick:function(){return t()},children:"Search or start a new chat"})]}),(0,j.jsx)(Q,{children:"Chats"}),null==q?void 0:q.docs.map(function(a){return(0,j.jsx)(y,{id:a.id,users:a.data().users},a.id)})]})}var L=k.ZP.div(D()),M=k.ZP.div(E()),N=k.ZP.div(F()),O=k.ZP.img(G()),P=k.ZP.h3(H()),Q=k.ZP.div(I()),R=k.ZP.button(J())},3678:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return h}});var d=c(5893),e=c(9008),f=c.n(e),g=c(6467);function h(){return(0,d.jsxs)("div",{children:[(0,d.jsxs)(f(),{children:[(0,d.jsx)("title",{children:"Messenger"}),(0,d.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,d.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,d.jsx)(g.Z,{})]})}},4937:function(a,b){"use strict";var c=function(a,b){return null==a?void 0:a.filter(function(a){return a!==(null==b?void 0:b.email)})[0]};b.Z=c}},function(a){a.O(0,[697,774,888,179],function(){var b;return a(a.s=5557)}),_N_E=a.O()}])